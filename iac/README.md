Deployment Steps
Follow these steps to deploy the GKE cluster and install Argo CD.
Prerequisites:
Install Terraform.
Install the Google Cloud SDK.
Authenticate with Google Cloud: gcloud auth application-default login
Configure your GCP project: gcloud config set project YOUR_PROJECT_ID
Enable the required APIs:
code
Bash
gcloud services enable container.googleapis.com
Initialize Terraform:
Navigate to your gke-argocd directory and run:
code
Bash
terraform init
Plan the Deployment:
Review the changes that Terraform will make:
code
Bash
terraform plan -var="project_id=YOUR_PROJECT_ID"
Apply the Configuration:
Create the resources:
code
Bash
Confirm the apply by typing yes when prompted.
Accessing Argo CD
Once the Terraform apply is complete, you can access the Argo CD UI.
Get the Argo CD Server IP:
The external IP address of the Argo CD server will be displayed as an output. You can also get it by running:
code
Bash
terraform output argocd_server_ip
Get the initial Argo CD admin password:
The initial password is autogenerated and stored in a Kubernetes secret. Retrieve it with the following command:
code
Bash
kubectl get secret argocd-initial-admin-secret -n argocd -o jsonpath="{.data.password}" | base64 -d; echo
Log in to the Argo CD UI:
Open your browser and navigate to the argocd_server_ip. The username is admin, and the password is the one you retrieved in the previous step.
You now have a running GKE cluster with Argo CD installed and ready to manage your Kubernetes applications following the GitOps methodology. The example Nginx deployment demonstrates how to expose services publicly using a LoadBalancer.

